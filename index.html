<!DOCTYPE html>..
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Космическая статистика планет</title>
<style>
  /* Общие стили */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Arial', sans-serif;
    min-height: 100vh;
    background: #000;
    color: #fff;
    overflow-x: hidden;
    position: relative;
  }

  /* Космический фон звезд с движением */
  .space-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 200%;
    height: 200%;
    z-index: -2;
    background: radial-gradient(circle, #000 60%, transparent 100%), radial-gradient(circle, #000 60%, transparent 100%);
    background-repeat: repeat;
    background-size: 200% 200%;
    animation: moveStars 60s linear infinite;
  }

  @keyframes moveStars {
    from { background-position: 0 0, 0 0; }
    to { background-position: -100% -100%, -100% -100%; }
  }

  /* Добавим эффект дополнительных звезд и метеоритов для эффекта живой космоса */
  .star, .meteor {
    position: absolute;
    background-color: #fff;
    border-radius: 50%;
    opacity: 0.8;
    animation: twinkle 5s infinite;
  }
  @keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  /* Метеориты — движутся быстро по экрану */
  .meteor {
    width: 2px;
    height: 20px;
    background-color: #fff;
    opacity: 0.6;
    animation: meteoroMove 2s linear forwards;
  }
  @keyframes meteoroMove {
    from { transform: translate(0, 0); opacity: 0.8; }
    to { transform: translate(1000px, 1000px); opacity: 0; }
  }

  /* Солнце с мягким свечением и анимацией */
  .sun {
    position: fixed;
    top: 50px;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, #ffff00, #ffcc00);
    border-radius: 50%;
    box-shadow: 0 0 80px 30px rgba(255, 204, 0, 0.6);
    z-index: -1; /* чуть выше звезд */
    animation: sun-glow 3s infinite alternate, sun-move 10s ease-in-out infinite;
  }

  @keyframes sun-glow {
    from { box-shadow: 0 0 80px 30px rgba(255, 204, 0, 0.6); }
    to { box-shadow: 0 0 120px 50px rgba(255, 204, 0, 0.9); }
  }

  @keyframes sun-move {
    0% { transform: translateX(-2%) translateY(0); }
    50% { transform: translateX(2%) translateY(2%); }
    100% { transform: translateX(-2%) translateY(0); }
  }

  /* Контейнер */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    position: relative;
    z-index: 1;
  }

  /* Заголовок */
  header h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    text-shadow: 0 0 10px rgba(100, 150, 255, 0.8);
    background: linear-gradient(to right, #4facfe, #00f2fe);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
  }

  /* Навигация вкладок */
  .tabs {
    display: flex;
    justify-content: center;
    margin-top: 2rem;
    gap: 1rem;
  }

  .tab {
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s, box-shadow 0.3s;
  }

  .tab:hover, .tab.active {
    background: linear-gradient(135deg, #764ba2, #667eea);
    box-shadow: 0 0 15px rgba(118, 75, 162, 0.7);
  }

  /* Описание */
  .description {
    font-size: 1.2rem;
    max-width: 800px;
    margin: 1rem auto 2rem;
    line-height: 1.6;
    color: #aaccff;
    text-align: center;
  }

  /* Счётчики */
  .counters-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
    margin: 3rem 0;
  }

  .counter-box {
    background: rgba(10, 20, 50, 0.6);
    border-radius: 15px;
    padding: 2rem;
    width: 250px;
    box-shadow: 0 0 20px rgba(50, 130, 255, 0.3);
    border: 1px solid rgba(100, 150, 255, 0.3);
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .counter-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 30px rgba(50, 130, 255, 0.5);
  }

  .counter-title {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    color: #4facfe;
  }

  .counter {
    font-size: 3rem;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 10px rgba(100, 180, 255, 0.8);
  }

  /* Планетарная сетка */
  .planet-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin: 4rem 0;
  }

  .planet-card {
    background: rgba(20, 30, 70, 0.6);
    border-radius: 15px;
    padding: 1.5rem;
    box-shadow: 0 0 15px rgba(50, 130, 255, 0.2);
    border: 1px solid rgba(100, 150, 255, 0.2);
    transition: transform 0.3s;
  }

  .planet-card:hover {
    transform: scale(1.05);
  }

  .planet-name {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: #00f2fe;
    text-align: center;
  }

  .planet-stats {
    list-style: none;
    padding: 0;
    margin-top: 1rem;
  }

  .planet-stats li {
    margin-bottom: 0.5rem;
    color: #aaccff;
  }

  /* Вкладки FAQ */
  .faq {
    margin-top: 3rem;
  }

  .faq h2 {
    font-size: 2rem;
    text-align: center;
    margin-bottom: 1.5rem;
    color: #00f2fe;
  }

  .faq-item {
    margin-bottom: 1rem;
    background: rgba(20,20,50,0.6);
    border-radius: 10px;
    padding: 1rem;
    border: 1px solid rgba(100,150,255,0.3);
    transition: background 0.3s;
  }
  .faq-item:hover {
    background: rgba(30,30,70,0.7);
  }
  .faq-question {
    font-weight: bold;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .faq-answer {
    margin-top: 0.5rem;
    display: none;
    padding-top: 0.5rem;
    border-top: 1px solid rgba(100,150,255,0.2);
    line-height: 1.4;
  }

  /* Кнопка показать/скрыть калькулятор */
  #toggleCalculator {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border: none;
    padding: 1rem 2rem;
    border-radius: 50px;
    font-size: 1.2rem;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(118, 75, 162, 0.5);
    transition: all 0.3s ease;
    margin: 2rem auto;
    display: block;
  }

  #toggleCalculator:hover {
    background: linear-gradient(135deg, #764ba2, #667eea);
    box-shadow: 0 0 20px rgba(118, 75, 162, 0.7);
  }

  /* Калькулятор в космическом стиле */
  .calculator-section {
    margin-top: 3rem;
    padding: 2rem;
    background: radial-gradient(ellipse at center, #111, #000);
    border-radius: 20px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    display: none; /* по умолчанию скрыт */
    flex-direction: column;
    align-items: center;
    box-shadow: 0 0 30px rgba(118, 75, 162, 0.5);
  }

  .calculator-header {
    font-size: 2rem;
    margin-bottom: 1.5rem;
    color: #00f2fe;
    text-shadow: 0 0 10px rgba(0, 242, 254, 0.8);
  }

  .calculator-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
  }

  select {
    padding: 0.5rem;
    font-size: 1rem;
    border-radius: 8px;
    border: 2px solid #00f2fe;
    background: #000;
    color: #fff;
    appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 1em;
  }

  .calculate-btn {
    padding: 1rem 2rem;
    font-size: 1.2rem;
    border: none;
    border-radius: 50px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(118, 75, 162, 0.5);
    transition: all 0.3s ease;
  }

  .calculate-btn:hover {
    background: linear-gradient(135deg, #764ba2, #667eea);
    box-shadow: 0 0 20px rgba(118, 75, 162, 0.7);
  }

  .result {
    margin-top: 1.5rem;
    font-size: 1.2rem;
    color: #fff;
    text-shadow: 0 0 10px rgba(0, 242, 254, 0.8);
  }

  /* Стиль для звезд игры */
  .game-star {
    box-shadow: 0 0 10px #fff;
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
  }
  .game-star:hover {
    transform: scale(1.2);
    box-shadow: 0 0 20px #fff;
  }
</style>
</head>
<body>
<!-- Звездный фон с эффектом движения -->
<div class="space-background" id="spaceBackground"></div>
<!-- Яркое солнце с эффектом свечения и движением -->
<div class="sun"></div>

<div class="container">
  <header>
    <h1>Планетарная статистика</h1>
    <p class="description">Исследуйте удивительные данные о планетах нашей Солнечной системы и за её пределами. Анимированные счетчики показывают актуальную информацию о космических объектах.</p>
  </header>

<!-- Вкладки -->
<div class="tabs">
  <div class="tab active" data-tab="stats">Статистика</div>
  <div class="tab" data-tab="info">Информация о планетах</div>
  <div class="tab" data-tab="faq">FAQ</div>
</div>

<!-- Контент вкладок -->
<div id="tab-content">

<!-- Статистика -->
<div class="tab-pane" id="stats" style="display: block;">
  <div class="counters-container">
    <div class="counter-box">
      <div class="counter-title">Открыто планет</div>
      <div class="counter" data-target="4164">0</div>
    </div>
    <div class="counter-box">
      <div class="counter-title">Экзопланет</div>
      <div class="counter" data-target="5138">0</div>
    </div>
    <div class="counter-box">
      <div class="counter-title">Спутников</div>
      <div class="counter" data-target="205">0</div>
    </div>
    <div class="counter-box">
      <div class="counter-title">Карликовых планет</div>
      <div class="counter" data-target="9">0</div>
    </div>
  </div>
</div>

<!-- Информация о планетах -->
<div class="tab-pane" id="info" style="display:none;">
  <div class="planet-grid">
    <!-- Меркурий -->
    <div class="planet-card">
      <h3 class="planet-name">Меркурий</h3>
      <ul class="planet-stats">
        <li>Диаметр: 4,879 км</li>
        <li>Масса: 0.33×10²⁴ кг</li>
        <li>Плотность: 5.43 г/см³</li>
        <li>Расстояние от Солнца: 57.9 млн км</li>
        <li>Орбитальная скорость: 47.87 км/с</li>
        <li>Температура: от -173°C до 427°C</li>
        <li>Атмосфера: очень разреженная</li>
        <li>Количество спутников: 0</li>
        <li>Тип: Скальный</li>
      </ul>
    </div>
    <!-- Венера -->
    <div class="planet-card">
      <h3 class="planet-name">Венера</h3>
      <ul class="planet-stats">
        <li>Диаметр: 12,104 км</li>
        <li>Масса: 4.87×10²⁴ кг</li>
        <li>Плотность: 5.24 г/см³</li>
        <li>Расстояние от Солнца: 108.2 млн км</li>
        <li>Орбитальная скорость: 35.02 км/с</li>
        <li>Температура: 462°C</li>
        <li>Атмосфера: плотная, с высоким содержанием CO₂</li>
        <li>Количество спутников: 0</li>
        <li>Тип: Скальный</li>
      </ul>
    </div>
    <!-- Земля -->
    <div class="planet-card">
      <h3 class="planet-name">Земля</h3>
      <ul class="planet-stats">
        <li>Диаметр: 12,742 км</li>
        <li>Масса: 5.97×10²⁴ кг</li>
        <li>Плотность: 5.52 г/см³</li>
        <li>Расстояние от Солнца: 149.6 млн км</li>
        <li>Орбитальная скорость: 29.78 км/с</li>
        <li>Температура: в среднем 15°C</li>
        <li>Атмосфера: азот и кислород</li>
        <li>Количество спутников: 1 (Луна)</li>
        <li>Тип: Скальный / Жидкая вода</li>
      </ul>
    </div>
    <!-- Марс -->
    <div class="planet-card">
      <h3 class="planet-name">Марс</h3>
      <ul class="planet-stats">
        <li>Диаметр: 6,779 км</li>
        <li>Масса: 0.64×10²⁴ кг</li>
        <li>Плотность: 3.93 г/см³</li>
        <li>Расстояние от Солнца: 227.9 млн км</li>
        <li>Орбитальная скорость: 24.077 км/с</li>
        <li>Температура: от -153°C до 20°C</li>
        <li>Атмосфера: очень разреженная, в основном CO₂</li>
        <li>Количество спутников: 2 (Фобос и Деймос)</li>
        <li>Тип: Скальный</li>
      </ul>
    </div>
    <!-- Юпитер -->
    <div class="planet-card">
      <h3 class="planet-name">Юпитер</h3>
      <ul class="planet-stats">
        <li>Диаметр: 139,822 км</li>
        <li>Масса: 1,898×10^27 кг</li>
        <li>Плотность: 1.33 г/см³</li>
        <li>Расстояние от Солнца: 778.5 млн км</li>
        <li>Орбитальная скорость: 13.07 км/с</li>
        <li>Температура: -145°C</li>
        <li>Атмосфера: водород, гелий</li>
        <li>Количество спутников: 79</li>
        <li>Тип: Газовый гигант</li>
      </ul>
    </div>
    <!-- Сатурн -->
    <div class="planet-card">
      <h3 class="planet-name">Сатурн</h3>
      <ul class="planet-stats">
        <li>Диаметр: 116,464 км</li>
        <li>Масса: 5,683×10^26 кг</li>
        <li>Плотность: 0.69 г/см³</li>
        <li>Расстояние от Солнца: 1,434 млрд км</li>
        <li>Орбитальная скорость: 9.69 км/с</li>
        <li>Температура: -178°C</li>
        <li>Атмосфера: водород, гелий</li>
        <li>Количество спутников: 82</li>
        <li>Тип: Газовый гигант</li>
      </ul>
    </div>
    <!-- Уран -->
    <div class="planet-card">
      <h3 class="planet-name">Уран</h3>
      <ul class="planet-stats">
        <li>Диаметр: 50,724 км</li>
        <li>Масса: 8,681×10^25 кг</li>
        <li>Плотность: 1.27 г/см³</li>
        <li>Расстояние от Солнца: 2,871 млрд км</li>
        <li>Орбитальная скорость: 6.81 км/с</li>
        <li>Температура: -197°C</li>
        <li>Атмосфера: водород, гелий, метан</li>
        <li>Количество спутников: 27</li>
        <li>Тип: Лютеиновый газовый гигант</li>
      </ul>
    </div>
    <!-- Нептун -->
    <div class="planet-card">
      <h3 class="planet-name">Нептун</h3>
      <ul class="planet-stats">
        <li>Диаметр: 49,244 км</li>
        <li>Масса: 1,024×10^26 кг</li>
        <li>Плотность: 1.64 г/см³</li>
        <li>Расстояние от Солнца: 4,495 млрд км</li>
        <li>Орбитальная скорость: 5.43 км/с</li>
        <li>Температура: -200°C</li>
        <li>Атмосфера: водород, гелий, метан</li>
        <li>Количество спутников: 14</li>
        <li>Тип: Лютеиновый газовый гигант</li>
      </ul>
    </div>
  </div>
</div>

<!-- FAQ -->
<div class="tab-pane" id="faq" style="display:none;">
  <div class="faq">
    <h2>Часто задаваемые вопросы</h2>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Что такое экзопланеты? <span>&#x25BC;</span></div>
      <div class="faq-answer">Экзопланеты — это планеты, которые находятся за пределами нашей Солнечной системы и обращаются вокруг других звезд. Их обнаруживают с помощью различных методов, таких как транзит и радиальная скорость.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Как измеряют диаметр планеты? <span>&#x25BC;</span></div>
      <div class="faq-answer">Диаметр планеты измеряют с помощью телескопов и методов астрономических наблюдений, таких как транзиты, радиолокация и фотометрия, а также с помощью данных с космических зондів.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Что такое карликовые планеты? <span>&#x25BC;</span></div>
      <div class="faq-answer">Карликовые планеты — это объекты, которые обладают достаточной массой, чтобы иметь округлую форму, но не очистили свою окрестность от других объектов (например, Плутон).</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Какие планеты считаются газовыми гигантами? <span>&#x25BC;</span></div>
      <div class="faq-answer">К газовым гигантам относятся Юпитер и Сатурн. Они состоят преимущественно из водорода и гелия и имеют очень большие размеры.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Есть ли у планет магнитные поля? <span>&#x25BC;</span></div>
      <div class="faq-answer">Да, у большинства газовых гигантов и некоторых твердых планет, таких как Земля, есть собственные магнитные поля, которые создаются движением жидких металлов внутри планеты.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Что такое экзосфера? <span>&#x25BC;</span></div>
      <div class="faq-answer">Экзосфера — это верхняя атмосферная оболочка планеты или спутника, где атмосфера становится очень разреженной, и частицы могут ускользать в космос.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Как образуются спутники у планет? <span>&#x25BC;</span></div>
      <div class="faq-answer">Спутники образуются в результате аккреции материала вокруг планеты или захвата объектов с орбиты, а также могут быть результатом столкновений.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Почему у некоторых планет есть кольца? <span>&#x25BC;</span></div>
      <div class="faq-answer">Кольца образуются из остатков столкновений, разрушенных спутников или частиц, захваченных гравитационным полем планеты. Самые известные — кольца Сатурна.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Как по температурам различают планеты? <span>&#x25BC;</span></div>
      <div class="faq-answer">Температуры определяются по данным дистанции от Солнца и внутреннему составу планеты. Ближе к Солнцу — горячие, дальше — холодные. Температуры также фиксируются с помощью космических зондів.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFaq(this)">Что такое Троянские астероиды? <span>&#x25BC;</span></div>
      <div class="faq-answer">Троянские астероиды — это группы астероидов, которые находятся на одной линии с планетой, например, у Юпитера и Титана, и движутся по устойчивым точкам Лагранжа.</div>
    </div>
  </div>
</div>
</div>

<!-- Кнопка для отображения калькулятора -->
<button id="toggleCalculator">Посчитать расстояние между планетами</button>

<!-- Калькулятор -->
<div class="calculator-section" id="calculatorSection">
  <div class="calculator-header">Расстояние между планетами</div>
  <form class="calculator-form" id="distanceForm">
    <label for="planet1">Выберите первую планету:</label>
    <select id="planet1" required>
      <option value="">--Выберите планету--</option>
      <option value="Mercury" data-distance="57.9">Меркурий</option>
      <option value="Venus" data-distance="108.2">Венера</option>
      <option value="Earth" data-distance="149.6">Земля</option>
      <option value="Mars" data-distance="227.9">Марс</option>
      <option value="Jupiter" data-distance="778.5">Юпитер</option>
      <option value="Saturn" data-distance="1434">Сатурн</option>
      <option value="Uranus" data-distance="2871">Уран</option>
      <option value="Neptune" data-distance="4495">Нептун</option>
    </select>
    <label for="planet2">Выберите вторую планету:</label>
    <select id="planet2" required>
      <option value="">--Выберите планету--</option>
      <option value="Mercury" data-distance="57.9">Меркурий</option>
      <option value="Venus" data-distance="108.2">Венера</option>
      <option value="Earth" data-distance="149.6">Земля</option>
      <option value="Mars" data-distance="227.9">Марс</option>
      <option value="Jupiter" data-distance="778.5">Юпитер</option>
      <option value="Saturn" data-distance="1434">Сатурн</option>
      <option value="Uranus" data-distance="2871">Уран</option>
      <option value="Neptune" data-distance="4495">Нептун</option>
    </select>
    <button type="submit" class="calculate-btn">Посчитать</button>
  </form>
  <div class="result" id="distanceResult"></div>
</div>

<!-- Новый раздел: Легкая космическая игра -->
<div style="margin-top:50px; text-align:center;">
  <h2 style="color:#00f2fe; margin-bottom:20px;">Космический ловец звезд!</h2>
  <p style="color:#aaccff;">Ловите падающие звезды и зарабатывайте очки! Попробуйте поймать как можно больше звезд за 30 секунд.</p>
  <button id="startGame" style="margin:20px; padding:10px 20px; font-size:1.2rem; border:none; border-radius:50px; background:linear-gradient(135deg, #667eea, #764ba2); color:#fff; cursor:pointer; transition:all 0.3s;">Начать игру</button>
  
  <!-- Игровое поле -->
  <div id="gameArea" style="display:none; position: relative; width: 100%; max-width: 800px; height: 400px; margin: 0 auto; border: 2px solid #00f2fe; border-radius:15px; background: radial-gradient(ellipse at center, #000, #111); overflow: hidden;">
    <div id="scoreDisplay" style="position:absolute; top:10px; left:10px; font-size:1.5rem; color:#fff; text-shadow:0 0 10px rgba(0,255,255,0.8);">Очки: 0</div>
    <div id="timerDisplay" style="position:absolute; top:10px; right:10px; font-size:1.5rem; color:#fff; text-shadow:0 0 10px rgba(0,255,255,0.8);">Время: 30</div>
  </div>
</div>

<!-- Подвал -->
<footer style="margin-top:50px; text-align:center; color:#88aaff;">
  <p>© 2025 Космическая статистика. Все данные собраны из открытых источников NASA и ESA.</p>
</footer>
</div>

<script>
  // Создание звезд на фоне
  function createStars() {
    const spaceBackground = document.getElementById('spaceBackground');
    const starCount = 200;
    for (let i = 0; i < starCount; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      const size = Math.random() * 3;
      star.style.width = `${size}px`;
      star.style.height = `${size}px`;
      star.style.left = `${Math.random() * 100}%`;
      star.style.top = `${Math.random() * 100}%`;
      star.style.animationDuration = `${3 + Math.random() * 4}s`;
      star.style.animationDelay = `${Math.random() * 5}s`;
      spaceBackground.appendChild(star);
    }
    // Метеориты для динамики
    for (let i=0; i<10; i++) {
      const meteor = document.createElement('div');
      meteor.className = 'meteor';
      meteor.style.top = Math.random() * 100 + '%';
      meteor.style.left = Math.random() * 100 + '%';
      spaceBackground.appendChild(meteor);
    }
  }

  // Анимация счетчиков
  function animateCounters() {
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => {
      const target = +counter.getAttribute('data-target');
      let current = 0;
      const step = Math.ceil(target / 200);
      const update = () => {
        current += step;
        if (current >= target) {
          current = target;
        }
        counter.innerText = current.toLocaleString();
        if (current < target) {
          setTimeout(update, 1);
        }
      };
      // Запускаем анимацию при видимости
      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          update();
          observer.disconnect();
        }
      });
      observer.observe(counter);
    });
  }

  // Переключение вкладок
  document.querySelectorAll('.tab').forEach(t => {
    t.addEventListener('click', () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      t.classList.add('active');
      const tabId = t.getAttribute('data-tab');

      document.querySelectorAll('.tab-pane').forEach(p => p.style.display = 'none');
      document.getElementById(tabId).style.display = 'block';

      if (tabId === 'stats') {
        animateCounters();
      }
    });
  });
  // Изначально активна вкладка "Статистика"
  document.querySelector('.tab[data-tab="stats"]').click();

  // Открытие/закрытие калькулятора
  document.getElementById('toggleCalculator').addEventListener('click', () => {
    const section = document.getElementById('calculatorSection');
    if (section.style.display === 'none' || section.style.display === '') {
      section.style.display = 'flex';
    } else {
      section.style.display = 'none';
      document.getElementById('distanceResult').innerText = '';
    }
  });

  // Обработка формы калькулятора
  document.getElementById('distanceForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const select1 = document.getElementById('planet1');
    const select2 = document.getElementById('planet2');
    const resultDiv = document.getElementById('distanceResult');

    const distance1 = select1.options[select1.selectedIndex].getAttribute('data-distance');
    const distance2 = select2.options[select2.selectedIndex].getAttribute('data-distance');

    if (!distance1 || !distance2) {
      resultDiv.innerText = 'Пожалуйста, выберите обе планеты.';
      return;
    }

    const dist1 = parseFloat(distance1);
    const dist2 = parseFloat(distance2);
    const diff = Math.abs(dist1 - dist2);

    resultDiv.innerText = `Расстояние между ${select1.options[select1.selectedIndex].text} и ${select2.options[select2.selectedIndex].text} составляет примерно ${diff.toFixed(1)} млн км.`;
  });

  // Вкладки FAQ
  function toggleFaq(element) {
    const answer = element.nextElementSibling;
    answer.style.display = (answer.style.display === 'block') ? 'none' : 'block';
  }

  // --- Улучшенная космическая игра ---
  let gameTimeout = null;
  let gameTimer = null;
  let gameTime = 30; // секунды
  let score = 0;

  const startBtn = document.getElementById('startGame');
  const gameArea = document.getElementById('gameArea');
  const scoreDisplay = document.getElementById('scoreDisplay');
  const timerDisplay = document.getElementById('timerDisplay');

  startBtn.addEventListener('click', () => {
    // сброс
    score = 0;
    scoreDisplay.innerText = 'Очки: 0';
    gameTime = 30;
    timerDisplay.innerText = 'Время: 30';
    startBtn.style.display = 'none';
    gameArea.style.display = 'block';

    // таймер
    gameTimer = setInterval(() => {
      gameTime--;
      timerDisplay.innerText = `Время: ${gameTime}`;
      if (gameTime <= 0) {
        clearInterval(gameTimer);
        clearTimeout(gameTimeout);
        alert(`Игра окончена! Вы набрали ${score} очков.`);
        startBtn.style.display = 'inline-block';
        gameArea.style.display = 'none';
      }
    }, 1000);
    spawnStar(); // запуск появления звезд
  });

  function spawnStar() {
    if (gameTime <= 0) return;
    const star = document.createElement('div');
    star.className = 'game-star';
    star.style.width = '20px';
    star.style.height = '20px';
    star.style.backgroundColor = '#fff';
    star.style.borderRadius = '50%';
    star.style.position = 'absolute';

    // позиция
    star.style.left = Math.random() * (gameArea.clientWidth - 20) + 'px';
    star.style.top = '0px';

    // анимация падения
    const fallDuration = 2000 + Math.random() * 2000; // 2-4 сек
    const animation = star.animate([
      { transform: 'translateY(0)', opacity: 1 },
      { transform: `translateY(${gameArea.clientHeight - 20}px)`, opacity: 0.5 }
    ], {
      duration: fallDuration,
      fill: 'forwards'
    });
    animation.onfinish = () => { star.remove(); };

    // обработка клика
    star.addEventListener('click', () => {
      score++;
      scoreDisplay.innerText = `Очки: ${score}`;
      star.remove();
    });

    // добавляем в область
    document.getElementById('gameArea').appendChild(star);

    // следующая звезда через случайный интервал
    gameTimeout = setTimeout(spawnStar, 300 + Math.random() * 300);
  }

  // добавим стиль для звезд
  const styleStars = document.createElement('style');
  styleStars.innerHTML = `
    .game-star {
      box-shadow: 0 0 10px #fff;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .game-star:hover {
      transform: scale(1.2);
      box-shadow: 0 0 20px #fff;
    }
  `;
  document.head.appendChild(styleStars);

  // Инициализация
  window.onload = () => {
    createStars();
    animateCounters();
  };
</script>
</body>
</html>
